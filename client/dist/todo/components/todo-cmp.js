"use strict";var __decorate=this&&this.__decorate||function(e,t,o,r){var i,s=arguments.length,c=3>s?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var d=e.length-1;d>=0;d--)(i=e[d])&&(c=(3>s?i(c):s>3?i(t,o,c):i(t,o))||c);return s>3&&c&&Object.defineProperty(t,o,c),c},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("@angular/core"),forms_1=require("@angular/forms"),todo_service_1=require("../services/todo-service"),TodoCmp=function(){function e(e,t){this._todoService=t,this.title="ng2do",this.todos=[],this.todoForm=e.group({todoMessage:["",forms_1.Validators.required]})}return e.prototype.ngOnInit=function(){this._getAll()},e.prototype._getAll=function(){var e=this;this._todoService.getAll().subscribe(function(t){e.todos=t})},e.prototype.add=function(e){var t=this;this._todoService.add(e).subscribe(function(e){t.todos.push(e),t.todoForm.controls.todoMessage.updateValue("")})},e.prototype.remove=function(e){var t=this;this._todoService.remove(e).subscribe(function(){t.todos.forEach(function(o,r){return o._id===e?t.todos.splice(r,1):void 0})})},e=__decorate([core_1.Component({selector:"todo-cmp",templateUrl:"todo/templates/todo.html",styleUrls:["todo/styles/todo.css"],directives:[forms_1.REACTIVE_FORM_DIRECTIVES],providers:[todo_service_1.TodoService]}),__metadata("design:paramtypes",[forms_1.FormBuilder,todo_service_1.TodoService])],e)}();exports.TodoCmp=TodoCmp;