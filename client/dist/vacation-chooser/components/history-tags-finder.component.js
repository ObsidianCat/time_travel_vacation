"use strict";var __decorate=this&&this.__decorate||function(e,t,r,n){var a,o=arguments.length,i=3>o?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(3>o?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("@angular/core"),constants_shared_1=require("../shared/constants.shared"),destination_data_handler_service_1=require("../services/destination-data-handler.service"),HistoryTagsFinderComponent=function(){function e(e){this.dataHandlerService=e,this.active=!0,this.submitted=!1,this.gotSearchResults=new core_1.EventEmitter,this.model={tagsType:"historyTags"};var t=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var a=n[r];t.push({name:a,isChecked:!1})}return t}(constants_shared_1.HISTORY_TAGS);this.model.tags=t}return e.prototype.onSubmit=function(){var e=this;this.submitted=!0;var t=this.model.tags.filter(this.isSelected);this.model.selectedTags=function(){for(var e=[],r=0,n=t;r<n.length;r++){var a=n[r];e.push(a.name)}return e}(),this.dataHandlerService.getDestinationsByTags(this.model).then(function(t){console.log(t),e.gotSearchResults.emit(t)})["catch"](function(e){console.error(e)})},e.prototype.isSelected=function(e){return e.isChecked},Object.defineProperty(e.prototype,"diagnostic",{get:function(){return JSON.stringify(this.model)},enumerable:!0,configurable:!0}),__decorate([core_1.Output(),__metadata("design:type",Object)],e.prototype,"gotSearchResults",void 0),e=__decorate([core_1.Component({templateUrl:"vacation-chooser/templates/tags-finder.component.html",selector:"history-tags-finder"}),__metadata("design:paramtypes",[destination_data_handler_service_1.DestinationDataHandlerService])],e)}();exports.HistoryTagsFinderComponent=HistoryTagsFinderComponent;